/*
 * grunt-angular-protractor
 * https://github.com/software-engineering/grunt-angular-protractor
 *
 * Copyright (c) 2015 it-schaedler
 * Licensed under the MIT license.
 */

'use strict';

var path = require('path'),
    _ = require('lodash');

module.exports = function (_this) {

    _this.grunt.verbose.writeln('Task addArguments.');

    var args = process.execArgv.concat([path.join(_this.protractorBinaries, 'protractor'), _this.dest]);

    if (_this.noColor) {
        _this.grunt.verbose.writeln('noColor set to true');
        args.push('--no-jasmineNodeOpts.showColors');
    }
    if (!_.isUndefined(_this.debug) && _this.debug === true) {
        _this.grunt.verbose.writeln('debug set to true');
        args.splice(1, 0, 'debug');
    }

    return args;
    
};
